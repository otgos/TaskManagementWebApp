<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorate="layout/layout.html">
<head></head>


    <div layout:fragment="myContent">


        <div class="mt-3">
            <h2>HEY <span th:text="${currentUser.fullName}"></span> </h2>
            <p>Your roles is/are : <span th:text="${currentUser.role}"></span>.</p>
        </div>

        <h3 class="text-center"> <span th:text="${taskNum}"></span> TASK(S) ASSIGNED TO YOU</h3>
        <br>
        <table class="table table-striped table-blue">
            <thead>
            <th>COMPLETED</th>
            <th>NAME</th>

            <th>DUE DATE</th>
            <th>DAYS REMAINING</th>
            <th>IMPORTANCE</th>
            <th>URGENCY</th>
            <th>ASSIGNED TO</th>
            <th> <i class="fa-solid fa-square-info"></i> DETAIL</th>
            </thead>
            <tbody>
            <tr  th:each="tsk: ${tasks}">
                <!--                        <td type="hidden" th:text="${tsk.id}"></td>-->
                <td>
                    <form th:action="@{'/completedTask'}" method="post">
                        <input type="hidden" name="taskId" th:value="${tsk.id}">
                        <button class="btn btn-success"><i class="fa-regular fa-circle-check"></i></button>
                    </form>
                </td>

                <td th:text="${tsk.name}"></td>
                <td th:text="${#dates.format(tsk.duedate, 'yyyy-MM-dd')}"></td>
                <td th:text="${tsk.getIscomplete()}"></td>
                <td th:text = "${tsk.urgency.name}"></td>
                <td th:text = "${tsk.important.name}"></td>
                <td th:text = "${tsk.user}"></td>

                <td>
                    <a th:href = "@{'/taskDetail/' + ${tsk.id}}" class="btn btn-primary btn-sm" > <i class="fa-solid fa-memo-circle-info"></i> DETAILS</a>
                </td>
            </tr>
            </tbody>
        </table>


    </div>
</div>


    </div>

</html>